<!doctype html><html lang=en-us dir=ltr><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width"><link rel=stylesheet href=/chroma/base16-snazzy.css><link rel=icon type=image/ico href=http://localhost:1313/favicon//favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon//favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon//favicon-32x32.png><link rel=icon type=image/png sizes=192x192 href=http://localhost:1313/favicon//android-chrome-192x192.png><link rel=apple-touch-icon sizes=180x180 href=http://localhost:1313/favicon//apple-touch-icon.png><meta name=description content><title>JavaScript URI エンコーディング | My website
</title><link rel=canonical href=http://localhost:1313/section2/2019-11-10-encodeuricomponent/><meta property="og:url" content="http://localhost:1313/section2/2019-11-10-encodeuricomponent/"><meta property="og:site_name" content="My website"><meta property="og:title" content="JavaScript URI エンコーディング"><meta property="og:description" content='まとめ # encodeURI()とencodeURIComponent()はRFC 2396準拠である。 encodeURI() は完全な URI を表すのに必要な文字 (Reserved Characters) はエンコードしません。 また、予約されていないが “そのまま” URI に使用できる(Unreserved Marks) 文字をエンコードしません。 encodeURIComponent() は “Unreserved Marks” 文字をエンコードしません。
var set1 = ";,/?:@&=+$#"; // Reserved Characters var set2 = "-_.!~*&#39;()"; // Unreserved Marks console.log(encodeURI(set1)); // ;,/?:@&=+$ console.log(encodeURI(set2)); // -_.!~*&#39;() console.log(encodeURIComponent(set1)); // %3B%2C%2F%3F%3A%40%26%3D%2B%24 console.log(encodeURIComponent(set2)); // -_.!~*&#39;() rfc2396 appendix-A # https://tools.ietf.org/html/rfc2396#appendix-A
URI-reference = [ absoluteURI | relativeURI ] [ "#" fragment ] absoluteURI = scheme ":" ( hier_part | opaque_part ) relativeURI = ( net_path | abs_path | rel_path ) [ "?" query ] hier_part = ( net_path | abs_path ) [ "?" query ] opaque_part = uric_no_slash *uric uric_no_slash = unreserved | escaped | ";" | "?" | ":" | "@" | "&" | "=" | "+" | "$" | "," net_path = "//" authority [ abs_path ] abs_path = "/" path_segments rel_path = rel_segment [ abs_path ] rel_segment = 1*( unreserved | escaped | ";" | "@" | "&" | "=" | "+" | "$" | "," ) scheme = alpha *( alpha | digit | "+" | "-" | "." ) authority = server | reg_name reg_name = 1*( unreserved | escaped | "$" | "," | ";" | ":" | "@" | "&" | "=" | "+" ) server = [ [ userinfo "@" ] hostport ] userinfo = *( unreserved | escaped | ";" | ":" | "&" | "=" | "+" | "$" | "," ) hostport = host [ ":" port ] host = hostname | IPv4address hostname = *( domainlabel "." ) toplabel [ "." ] domainlabel = alphanum | alphanum *( alphanum | "-" ) alphanum toplabel = alpha | alpha *( alphanum | "-" ) alphanum IPv4address = 1*digit "." 1*digit "." 1*digit "." 1*digit port = *digit path = [ abs_path | opaque_part ] path_segments = segment *( "/" segment ) segment = *pchar *( ";" param ) param = *pchar pchar = unreserved | escaped | ":" | "@" | "&" | "=" | "+" | "$" | "," query = *uric fragment = *uric uric = reserved | unreserved | escaped reserved = ";" | "/" | "?" | ":" | "@" | "&" | "=" | "+" | "$" | "," unreserved = alphanum | mark mark = "-" | "_" | "." | "!" | "~" | "*" | "&#39;" | "(" | ")" escaped = "%" hex hex hex = digit | "A" | "B" | "C" | "D" | "E" | "F" | "a" | "b" | "c" | "d" | "e" | "f" alphanum = alpha | digit alpha = lowalpha | upalpha lowalpha = "a" | "b" | "c" | "d" | "e" | "f" | "g" | "h" | "i" | "j" | "k" | "l" | "m" | "n" | "o" | "p" | "q" | "r" | "s" | "t" | "u" | "v" | "w" | "x" | "y" | "z" upalpha = "A" | "B" | "C" | "D" | "E" | "F" | "G" | "H" | "I" | "J" | "K" | "L" | "M" | "N" | "O" | "P" | "Q" | "R" | "S" | "T" | "U" | "V" | "W" | "X" | "Y" | "Z" digit = "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9" 参考 # https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent'><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="section2"><meta property="article:published_time" content="2019-11-10T09:00:00+00:00"><meta property="article:modified_time" content="2019-11-10T09:00:00+00:00"><meta property="article:tag" content="JavaScript"><link rel=stylesheet href=/assets/combined.min.9febd1f3c2885a069c6b93b480b8d669b80fdbda1cf89c52c8a8d3b8d0761de4.css media=all></head><body class=auto><div class=content><header><div class=header><h1 class=header-title><a href=http://localhost:1313/ style=display:flex;align-items:center><span>Home Title</span></a></h1><div class="menu flex"><p class=menu-item><a href=http://localhost:1313/>/home</a></p><p class=menu-item><a href=http://localhost:1313/section1/>/Section1</a></p><p class=menu-item><a href=http://localhost:1313/section2/>/Section2</a></p><p class=menu-item><a href=http://localhost:1313/about>/about</a></p></div><hr></header><main class=main><div class=breadcrumbs><a href=/>Home</a>
<span class=breadcrumbs-separator>/ </span><a href=/section2/>Section 2</a>
<span class=breadcrumbs-separator>/ </span><a class=breadcrumbs-current href=/section2/2019-11-10-encodeuricomponent/>JavaScript URI エンコーディング</a></div><div class=autonumber><div class=single-intro-container><h1 class=single-title>JavaScript URI エンコーディング</h1><p class=single-readtime><time datetime=2019-11-10T09:00:00+00:00>Nov 10, 2019</time>
&nbsp; · &nbsp;
3 min read
&nbsp; · &nbsp;
<span class=single-tags><a href=/tags/javascript/>#JavaScript
</a><a href=/tags/>#Tags</a></span></p></div><aside class=toc><p><strong>Table of contents</strong></p><nav id=TableOfContents><ul><li><a href=#まとめ>まとめ</a></li><li><a href=#rfc2396-appendix-a>rfc2396 appendix-A</a></li><li><a href=#参考>参考</a></li></ul></nav></aside><div class=single-content><h2 class=heading id=まとめ>まとめ
<a href=#%e3%81%be%e3%81%a8%e3%82%81>#</a></h2><p><code>encodeURI()</code>と<code>encodeURIComponent()</code>はRFC 2396準拠である。
<code>encodeURI()</code> は完全な URI を表すのに必要な文字 (Reserved Characters) はエンコードしません。
また、予約されていないが &ldquo;そのまま&rdquo; URI に使用できる(Unreserved Marks) 文字をエンコードしません。
<code>encodeURIComponent()</code> は &ldquo;Unreserved Marks&rdquo; 文字をエンコードしません。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>set1</span> <span class=o>=</span> <span class=s2>&#34;;,/?:@&amp;=+$#&#34;</span><span class=p>;</span> <span class=c1>// Reserved Characters
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>set2</span> <span class=o>=</span> <span class=s2>&#34;-_.!~*&#39;()&#34;</span><span class=p>;</span>   <span class=c1>// Unreserved Marks
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>encodeURI</span><span class=p>(</span><span class=nx>set1</span><span class=p>));</span> <span class=c1>// ;,/?:@&amp;=+$
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>encodeURI</span><span class=p>(</span><span class=nx>set2</span><span class=p>));</span> <span class=c1>// -_.!~*&#39;()
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>encodeURIComponent</span><span class=p>(</span><span class=nx>set1</span><span class=p>));</span> <span class=c1>// %3B%2C%2F%3F%3A%40%26%3D%2B%24
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>encodeURIComponent</span><span class=p>(</span><span class=nx>set2</span><span class=p>));</span> <span class=c1>// -_.!~*&#39;()
</span></span></span></code></pre></div><h2 class=heading id=rfc2396-appendix-a>rfc2396 appendix-A
<a href=#rfc2396-appendix-a>#</a></h2><p><a href=https://tools.ietf.org/html/rfc2396#appendix-A>https://tools.ietf.org/html/rfc2396#appendix-A</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>URI-reference = [ absoluteURI | relativeURI ] [ &#34;#&#34; fragment ]
</span></span><span class=line><span class=cl>      absoluteURI   = scheme &#34;:&#34; ( hier_part | opaque_part )
</span></span><span class=line><span class=cl>      relativeURI   = ( net_path | abs_path | rel_path ) [ &#34;?&#34; query ]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      hier_part     = ( net_path | abs_path ) [ &#34;?&#34; query ]
</span></span><span class=line><span class=cl>      opaque_part   = uric_no_slash *uric
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      uric_no_slash = unreserved | escaped | &#34;;&#34; | &#34;?&#34; | &#34;:&#34; | &#34;@&#34; |
</span></span><span class=line><span class=cl>                      &#34;&amp;&#34; | &#34;=&#34; | &#34;+&#34; | &#34;$&#34; | &#34;,&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      net_path      = &#34;//&#34; authority [ abs_path ]
</span></span><span class=line><span class=cl>      abs_path      = &#34;/&#34;  path_segments
</span></span><span class=line><span class=cl>      rel_path      = rel_segment [ abs_path ]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      rel_segment   = 1*( unreserved | escaped |
</span></span><span class=line><span class=cl>                          &#34;;&#34; | &#34;@&#34; | &#34;&amp;&#34; | &#34;=&#34; | &#34;+&#34; | &#34;$&#34; | &#34;,&#34; )
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      scheme        = alpha *( alpha | digit | &#34;+&#34; | &#34;-&#34; | &#34;.&#34; )
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      authority     = server | reg_name
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      reg_name      = 1*( unreserved | escaped | &#34;$&#34; | &#34;,&#34; |
</span></span><span class=line><span class=cl>                          &#34;;&#34; | &#34;:&#34; | &#34;@&#34; | &#34;&amp;&#34; | &#34;=&#34; | &#34;+&#34; )
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      server        = [ [ userinfo &#34;@&#34; ] hostport ]
</span></span><span class=line><span class=cl>      userinfo      = *( unreserved | escaped |
</span></span><span class=line><span class=cl>                         &#34;;&#34; | &#34;:&#34; | &#34;&amp;&#34; | &#34;=&#34; | &#34;+&#34; | &#34;$&#34; | &#34;,&#34; )
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      hostport      = host [ &#34;:&#34; port ]
</span></span><span class=line><span class=cl>      host          = hostname | IPv4address
</span></span><span class=line><span class=cl>      hostname      = *( domainlabel &#34;.&#34; ) toplabel [ &#34;.&#34; ]
</span></span><span class=line><span class=cl>      domainlabel   = alphanum | alphanum *( alphanum | &#34;-&#34; ) alphanum
</span></span><span class=line><span class=cl>      toplabel      = alpha | alpha *( alphanum | &#34;-&#34; ) alphanum
</span></span><span class=line><span class=cl>      IPv4address   = 1*digit &#34;.&#34; 1*digit &#34;.&#34; 1*digit &#34;.&#34; 1*digit
</span></span><span class=line><span class=cl>      port          = *digit
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      path          = [ abs_path | opaque_part ]
</span></span><span class=line><span class=cl>      path_segments = segment *( &#34;/&#34; segment )
</span></span><span class=line><span class=cl>      segment       = *pchar *( &#34;;&#34; param )
</span></span><span class=line><span class=cl>      param         = *pchar
</span></span><span class=line><span class=cl>      pchar         = unreserved | escaped |
</span></span><span class=line><span class=cl>                      &#34;:&#34; | &#34;@&#34; | &#34;&amp;&#34; | &#34;=&#34; | &#34;+&#34; | &#34;$&#34; | &#34;,&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      query         = *uric
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      fragment      = *uric
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      uric          = reserved | unreserved | escaped
</span></span><span class=line><span class=cl>      reserved      = &#34;;&#34; | &#34;/&#34; | &#34;?&#34; | &#34;:&#34; | &#34;@&#34; | &#34;&amp;&#34; | &#34;=&#34; | &#34;+&#34; |
</span></span><span class=line><span class=cl>                      &#34;$&#34; | &#34;,&#34;
</span></span><span class=line><span class=cl>      unreserved    = alphanum | mark
</span></span><span class=line><span class=cl>      mark          = &#34;-&#34; | &#34;_&#34; | &#34;.&#34; | &#34;!&#34; | &#34;~&#34; | &#34;*&#34; | &#34;&#39;&#34; |
</span></span><span class=line><span class=cl>                      &#34;(&#34; | &#34;)&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      escaped       = &#34;%&#34; hex hex
</span></span><span class=line><span class=cl>      hex           = digit | &#34;A&#34; | &#34;B&#34; | &#34;C&#34; | &#34;D&#34; | &#34;E&#34; | &#34;F&#34; |
</span></span><span class=line><span class=cl>                              &#34;a&#34; | &#34;b&#34; | &#34;c&#34; | &#34;d&#34; | &#34;e&#34; | &#34;f&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      alphanum      = alpha | digit
</span></span><span class=line><span class=cl>      alpha         = lowalpha | upalpha
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      lowalpha = &#34;a&#34; | &#34;b&#34; | &#34;c&#34; | &#34;d&#34; | &#34;e&#34; | &#34;f&#34; | &#34;g&#34; | &#34;h&#34; | &#34;i&#34; |
</span></span><span class=line><span class=cl>                 &#34;j&#34; | &#34;k&#34; | &#34;l&#34; | &#34;m&#34; | &#34;n&#34; | &#34;o&#34; | &#34;p&#34; | &#34;q&#34; | &#34;r&#34; |
</span></span><span class=line><span class=cl>                 &#34;s&#34; | &#34;t&#34; | &#34;u&#34; | &#34;v&#34; | &#34;w&#34; | &#34;x&#34; | &#34;y&#34; | &#34;z&#34;
</span></span><span class=line><span class=cl>      upalpha  = &#34;A&#34; | &#34;B&#34; | &#34;C&#34; | &#34;D&#34; | &#34;E&#34; | &#34;F&#34; | &#34;G&#34; | &#34;H&#34; | &#34;I&#34; |
</span></span><span class=line><span class=cl>                 &#34;J&#34; | &#34;K&#34; | &#34;L&#34; | &#34;M&#34; | &#34;N&#34; | &#34;O&#34; | &#34;P&#34; | &#34;Q&#34; | &#34;R&#34; |
</span></span><span class=line><span class=cl>                 &#34;S&#34; | &#34;T&#34; | &#34;U&#34; | &#34;V&#34; | &#34;W&#34; | &#34;X&#34; | &#34;Y&#34; | &#34;Z&#34;
</span></span><span class=line><span class=cl>      digit    = &#34;0&#34; | &#34;1&#34; | &#34;2&#34; | &#34;3&#34; | &#34;4&#34; | &#34;5&#34; | &#34;6&#34; | &#34;7&#34; |
</span></span><span class=line><span class=cl>                 &#34;8&#34; | &#34;9&#34;
</span></span></code></pre></div><h2 class=heading id=参考>参考
<a href=#%e5%8f%82%e8%80%83>#</a></h2><p><a href=https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent>https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent</a></p><p><a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURI>https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURI</a></p><p><a href=https://qiita.com/aosho235/items/0581fc82f8ce2c5ac055>https://qiita.com/aosho235/items/0581fc82f8ce2c5ac055</a></p><p><a href=https://tools.ietf.org/html/rfc2396>https://tools.ietf.org/html/rfc2396</a></p></div><div class=single-pagination><hr><div class=flex><div class=single-pagination-prev><div class=single-pagination-container-prev><div class=single-pagination-text>&lt;</div><div class=single-pagination-text><a href=/section2/2019-10-27-uipath/>uipath ノート（一）</a></div></div></div><div class=single-pagination-next><div class=single-pagination-container-next><div class=single-pagination-text><a href=/section2/2019-11-18-uipath-best-practice/>uipath ノート（二）- Best Practice</a></div><div class=single-pagination-text>></div></div></div></div><hr></div><div class=back-to-top><a href=#top>↑ Back to top</a></div></div></main></div><footer><div class=footer><p>© 2024 <a href=https://github.com/loyistro/Beige>loyistro/beige</a> theme</p></div></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script></body><script>function isAuto(){return document.body.classList.contains("auto")}function setTheme(){if(!isAuto())return;document.body.classList.remove("auto");let e="light";window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(e="dark"),document.body.classList.add(e)}function invertBody(){document.body.classList.toggle("dark"),document.body.classList.toggle("light")}isAuto()&&window.matchMedia("(prefers-color-scheme: dark)").addListener(invertBody),setTheme()</script></html>